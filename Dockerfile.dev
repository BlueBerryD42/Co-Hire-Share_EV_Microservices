# Development Dockerfile with hot reload support
# syntax=docker/dockerfile:1

FROM mcr.microsoft.com/dotnet/sdk:8.0

WORKDIR /src

# Set environment for development
ENV ASPNETCORE_ENVIRONMENT=Development
ENV ASPNETCORE_URLS=http://+:8080
ENV DOTNET_USE_POLLING_FILE_WATCHER=true
ENV DOTNET_WATCH_RESTART_ON_RUDE_EDIT=true

# Expose port
EXPOSE 8080

# Install watch tool if not already included
RUN dotnet tool install --global dotnet-watch || true

# Default command - will be overridden by docker-compose
CMD ["dotnet", "--version"]

